(this["webpackJsonpleet-annotation-app"]=this["webpackJsonpleet-annotation-app"]||[]).push([[0],{56:function(e,t,a){},58:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),i=a.n(s),o=a(19),c=a.n(o),l=(a(56),a(48)),r=a(12),h=a(13),d=a(7),g=a(15),j=a(14),b=(a(49),a(31)),u=a.n(b),p=(a(58),a(22)),x=a(9),O=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={newTag:""},n.handleCancel=n.handleCancel.bind(Object(d.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(h.a)(a,[{key:"handleSubmit",value:function(){console.log("submitting this tag data: ",this.state.newTag),this.props.submitForm(this.state.newTag)}},{key:"handleInputChange",value:function(e){this.setState({newTag:e.target.value}),console.log("updating new tag text to ",e.target.value)}},{key:"handleCancel",value:function(){this.props.hideForm(!0)}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"newTag",children:[Object(n.jsx)("h4",{children:"New Tag"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("label",{htmlFor:"new-tag"}),Object(n.jsx)("input",{className:"tag-input",id:"new-tag",name:"new-tag",type:"text",onChange:this.handleInputChange}),Object(n.jsx)(x.a,{className:"enterTag",variant:"outline-success",type:"button",onClick:this.handleSubmit,children:"Add"}),Object(n.jsx)(x.a,{className:"cancelTag",variant:"danger",onClick:this.handleCancel,children:"Cancel"})]})]})}}]),a}(i.a.Component),f=a(46);var m=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onSelect=n.onSelect.bind(Object(d.a)(n)),n}return Object(h.a)(a,[{key:"onSelect",value:function(e){var t=function(e){for(var t,a=[],n=e&&e.options,s=0,i=n.length;s<i;s++)(t=n[s]).selected&&a.push(t.value||t.text);return a}(e.target);console.log("selected ",t,". Adding them to parent form state"),this.props.onTagSelect(t)}},{key:"render",value:function(){console.log(this.props.tagList);var e=new Array(this.props.tagList.length);return this.props.tagList.forEach((function(t){console.log("making <option> for ",t.text," with id ",t.id),e.push(Object(n.jsx)("option",{children:t.text},t.id))})),Object(n.jsx)(f.a,{id:"dropdown-item-button",title:"Select one or multiple tags",children:Object(n.jsx)("select",{className:"droptags",multiple:!0,name:"tags-field",id:"tags-field",onChange:this.onSelect,children:e})})}}]),a}(i.a.Component),v=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={tagFormIsHidden:!0,formData:{note:"",keyphrase:"",tags:[]}},n.handleTagFormDisplay=n.handleTagFormDisplay.bind(Object(d.a)(n)),n.handleNoteChange=n.handleNoteChange.bind(Object(d.a)(n)),n.handlekeyphraseChange=n.handlekeyphraseChange.bind(Object(d.a)(n)),n.handleTagsChange=n.handleTagsChange.bind(Object(d.a)(n)),n.submitNewNote=n.submitNewNote.bind(Object(d.a)(n)),n}return Object(h.a)(a,[{key:"handleTagFormDisplay",value:function(e){this.setState({tagFormIsHidden:e})}},{key:"handleNoteChange",value:function(e){this.setState({formData:Object(p.a)(Object(p.a)({},this.state.formData),{},{note:e.target.value})})}},{key:"handlekeyphraseChange",value:function(e){this.setState({formData:Object(p.a)(Object(p.a)({},this.state.formData),{},{keyphrase:e.target.value})})}},{key:"handleTagsChange",value:function(e){this.setState((function(t,a){return console.log("replacing ",t.formData.tags," with ",e),{formData:Object(p.a)(Object(p.a)({},t.formData),{},{tags:e})}}))}},{key:"submitNewNote",value:function(){console.log("submitting this formData to App... ",this.state.formData),this.props.submitNewNote(this.state.formData),alert("Note Added!")}},{key:"render",value:function(){var e=this,t=Object(n.jsx)("span",{});return this.state.tagFormIsHidden||(t=Object(n.jsx)(O,{hideForm:this.handleTagFormDisplay,submitForm:this.props.submitNewTag})),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Add a New Note"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("label",{htmlFor:"note-field"}),Object(n.jsx)("textarea",{className:"newnote",name:"note-field",id:"note-field",placeholder:"have any thoughts to write?",cols:"30",rows:"5",onChange:this.handleNoteChange}),Object(n.jsx)("br",{}),Object(n.jsx)(x.a,{variant:"outline-success",onClick:this.submitNewNote,type:"button",className:"enterNewNote",children:"Enter"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("label",{htmlFor:"keyphrase-field",children:[Object(n.jsx)("strong",{children:"Key Phrase:"})," "]}),Object(n.jsx)("input",{className:"keyphrase",name:"keyphrase-field",id:"keyphrase-field",type:"text",onChange:this.handlekeyphraseChange}),Object(n.jsx)(m,{tagList:this.props.tagList,onTagSelect:this.handleTagsChange}),Object(n.jsx)(x.a,{className:"createNewTag",variant:"outline-secondary",type:"button",onClick:function(){e.handleTagFormDisplay(!1)},children:"Create a new tag \u3009"})]}),t]})}}]),a}(i.a.Component),y=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleAddClick=n.handleAddClick.bind(Object(d.a)(n)),n.handleTextChange=n.handleTextChange.bind(Object(d.a)(n)),n.state={newParagraphs:[]},n}return Object(h.a)(a,[{key:"handleAddClick",value:function(){console.log("submitting this (hopefully new) reading text to App: ",this.state.newParagraphs),""!=this.state.newParagraphs&&this.props.submitNewReadingText(this.state.newParagraphs)}},{key:"handleTextChange",value:function(e){console.log("changing state in handleTextChange() from ",this.state.newParagraphs," to ",e.target.value),this.setState({newParagraphs:e.target.value})}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"newReadingStyle",children:[Object(n.jsx)("h3",{children:"Enter new text to be annotated:"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("textarea",{name:"newReadingText",cols:"100",rows:"10",onChange:this.handleTextChange}),Object(n.jsx)("br",{}),Object(n.jsx)(x.a,{variant:"success",onClick:this.handleAddClick,className:"newTextButton",type:"button",children:"Add!"})]})]})}}]),a}(i.a.Component),k=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={tags:[]},n.handleTagsChange=n.handleTagsChange.bind(Object(d.a)(n)),n.handleDisplayClick=n.handleDisplayClick.bind(Object(d.a)(n)),n}return Object(h.a)(a,[{key:"handleTagsChange",value:function(e){this.setState((function(t,a){return console.log("replacing ",t.tags," with ",e),{tags:e}}))}},{key:"handleDisplayClick",value:function(){console.log("displaying notes for tags ",this.state.tags),this.props.onDisplayClick(this.state.tags)}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"noteDisplay",children:[Object(n.jsx)("h4",{children:"Select a keyword and see the Notes associated."}),Object(n.jsxs)("form",{children:[Object(n.jsx)(x.a,{onClick:this.handleDisplayClick,variant:"info",children:"Show/Hide Notes"}),Object(n.jsx)(m,{tagList:this.props.tagList,onTagSelect:this.handleTagsChange})]}),Object(n.jsx)("br",{})]})}}]),a}(i.a.Component),w=(a(62),a(50)),C=a(43),N=a(44),T=a(47),D=a(32),S=u.a.mark(F);function F(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:return t.next=4,"t"+(++e).toString();case 4:t.next=1;break;case 6:case"end":return t.stop()}}),S)}var A=function(e){Object(g.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(r.a)(this,a),(e=t.call(this)).setReadingText=e.setReadingText.bind(Object(d.a)(e)),e.appendNote=e.appendNote.bind(Object(d.a)(e)),e.handleNewTagData=e.handleNewTagData.bind(Object(d.a)(e)),e.handleDisplayClick=e.handleDisplayClick.bind(Object(d.a)(e)),e.tagIdGenerator=F(),e.defaultTags=["highlight","footnote","inline note","hover note"];var s,i=new Array(e.defaultTags.length),o=Object(l.a)(e.defaultTags);try{for(o.s();!(s=o.n()).done;){var c={text:s.value,notes:[],id:e.tagIdGenerator.next().value};i.push(c)}}catch(h){o.e(h)}finally{o.f()}return e.state={readingText:Object(n.jsx)("p",{children:"initial text - Kevin, wait a bit for your blessed paragraphs. It was easier as a plain string"}),notes:[],tags:i},console.log("default tags working? ",e.state.tags),e}return Object(h.a)(a,[{key:"setReadingText",value:function(e){this.setState({readingText:Object(n.jsx)("p",{children:e})})}},{key:"handleNewTagData",value:function(e){console.log("***handleNewTagData called");var t=this.tagIdGenerator.next().value;console.log("    this new tag has ID ",t),console.log("    this new tag has text ",e),this.setState((function(a,n){var s={text:e,notes:[],id:t};console.log("adding tag ",e,"with id",t," to app state");var i=a.tags.concat([s]);return console.log("   ...so the updated tag array is ",i),{tags:i}}))}},{key:"appendNote",value:function(e){var t={text:e.note,keyphrase:e.keyphrase,tags:e.tags};console.log("adding note ",t," to ",this.state.notes),this.setState((function(e,a){return{notes:e.notes.concat([t])}}))}},{key:"applyFormattedNote",value:function(e,t){var a,s=Object(l.a)(e.tags);try{for(s.s();!(a=s.n()).done;){var i=a.value;"highlight"===i&&(console.log("applying highlight at index ",t),this.setState((function(a){var s=t-(e.keyphrase.length-1),i=t+1,o=a.readingText.props.children.slice(0,s),c=a.readingText.props.children.slice(s,i),l=a.readingText.props.children.slice(i);return console.log("section 1: ",o),console.log("section 2: ",c),console.log("section 3: ",l),{readingText:Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:o}),Object(n.jsx)("mark",{children:c}),Object(n.jsx)("span",{children:l})]})}})))}}catch(o){s.e(o)}finally{s.f()}}},{key:"handleDisplayClick",value:function(e){console.log("handleDisplayClick called! Checking readingText for any keyphrases associated with tags ",e,"...");for(var t=this.state.readingText.props.children,a=new Array(this.state.notes.length).fill(0),n=0,s=0;s<t.length;s++){var i=t[s];console.log("checking ",i);for(var o=0;o<this.state.notes.length;o++){var c=this.state.notes[o],l=c.keyphrase,r=a[o];l[r]===i?r===l.length-1?(console.log("readingText contains keyphrase ",l," at index ",s," apply formatting here"),this.applyFormattedNote(c,s),n++):a[o]++:a[o]=0}}n>0?alert("found "+n+" keyphrases in your reading text and made the annotations specified by their tags"):alert("none of your keyphrases appear in this text")}},{key:"render",value:function(){var e=Object(n.jsx)("p",{children:this.state.readingText});return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"inner",children:[Object(n.jsxs)(D.a,{className:"navbar1",collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",children:[Object(n.jsx)(D.a.Brand,{href:"#home",children:"Leet Annotation"}),Object(n.jsx)(D.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(n.jsxs)(D.a.Collapse,{id:"responsive-navbar-nav",children:[Object(n.jsx)(T.a,{className:"mr-auto"}),Object(n.jsx)(T.a,{className:"navitem",children:"Team Education Sensation"})]})]}),Object(n.jsxs)(w.a,{className:"jumbo",children:[Object(n.jsx)("h1",{children:"Welcome to Leet Annotation!"}),Object(n.jsxs)("h5",{className:"jumbo-text",children:["A new interactive annotating web app for students of all ages.",Object(n.jsx)("br",{}),"Ever have to painstakingly annotate an article, textbook, or novel? Well this is the tool for you! Annotate and create user-specific notes which can be viewed inline or as a popup.",Object(n.jsx)("br",{})]})]}),Object(n.jsxs)("div",{className:"subcontainer",children:[Object(n.jsx)("div",{className:"readingText",children:e}),Object(n.jsx)(y,{submitNewReadingText:this.setReadingText})]}),Object(n.jsx)("div",{className:"fixed-bottom position-sticky",children:Object(n.jsx)(C.a,{className:"accordian-contents",children:Object(n.jsxs)(N.a,{className:"card",children:[Object(n.jsx)(N.a.Header,{children:Object(n.jsx)(C.a.Toggle,{as:x.a,variant:"link",eventKey:"0",children:Object(n.jsx)(x.a,{variant:"dark",children:"Click me to Show/Hide Notes for a tag or add a New Note!"})})}),Object(n.jsx)(C.a.Collapse,{eventKey:"0",children:Object(n.jsxs)(N.a.Body,{children:[Object(n.jsx)(k,{tagList:this.state.tags,onDisplayClick:this.handleDisplayClick}),Object(n.jsx)(v,{userTags:this.state.tags,tagList:this.state.tags,submitNewNote:this.appendNote,submitNewTag:this.handleNewTagData})]})})]})})})]})})}}]),a}(i.a.Component),I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,73)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),i(e),o(e)}))};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(A,{})}),document.getElementById("root")),I()}},[[65,1,2]]]);
//# sourceMappingURL=main.defb7c07.chunk.js.map